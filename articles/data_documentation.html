<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Data Documentation • DPR2</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Documentation">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">DPR2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.1000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/introduction_to_dpr2.html">Introduction to DPR2</a></li>
    <li><a class="dropdown-item" href="../articles/the_dpr2_workflow.html">The DPR2 Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/data_documentation.html">Data Documentation</a></li>
    <li><a class="dropdown-item" href="../articles/data_versioning.html">Data Versioning</a></li>
    <li><a class="dropdown-item" href="../articles/datapackager_compatibility.html">DataPackageR Compatibility</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Data Documentation</h1>
            
      

      <div class="d-none name"><code>data_documentation.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Clear documentation of data objects allows users to quickly
understand the structure, variables, and intended purpose of each
dataset without having to inspect the raw contents. This is especially
important in packages where data evolves over time or supports multiple
analysis pipelines. Well-documented data reduces onboarding time,
minimizes errors, and promotes consistent use and interpretation across
workflows.</p>
<p>DPR2 offers features that automatically generate documentation for
<code>.rda</code> data objects stored in a package’s <code>data/</code>
folder. This includes creating <code>.R</code> files for each object
under <code>R/</code>, as well as <code>.Rd</code> help files in
<code>man/</code> using <code>roxygen2</code>. Descriptive details are
added based on the object’s structure. For example, the number of rows
and columns are shown for data frames or matrices, and the length is
shown for vectors and lists.</p>
<p>Below, we explain how this works, demonstrate its behavior on example
objects, and cover important edge cases. Let’s begin by showing a
directory skeleton of an example DPR2 package <code>TestPKG</code> prior
to rendering to showcase the absence of the <code>man/</code> and
<code>R/</code> folders.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">TestPKG</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">├──</span> data</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="ex">├──</span> datapackager.yml</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="ex">├──</span> DESCRIPTION</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="ex">├──</span> inst</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="ex">│  </span> ├── data_digest</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="ex">│  </span> ├── extdata</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="ex">│  </span> └── to_build</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="ex">│  </span>     ├── objects</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="ex">│  </span>     └── scripts</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="ex">│  </span>         └── mtcars.R_</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="ex">├──</span> NAMESPACE</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="ex">└──</span> processing</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>    <span class="ex">└──</span> mtcars.R</span></code></pre></div>
<p>We now walk through an example using the built-in <code>mtcars</code>
dataset. This will show how DPR2 documents both a data frame and a
structured list object.</p>
</div>
<div class="section level2">
<h2 id="automated-simple-documentation-with-dpr2">Automated, simple documentation with DPR2<a class="anchor" aria-label="anchor" href="#automated-simple-documentation-with-dpr2"></a>
</h2>
<p>DPR2 automatically generates documentation for each <code>.rda</code>
object in the <code>data/</code> folder upon calling
<code><a href="../reference/dpr_render.html">dpr_render()</a></code>. The <code>.R</code> and <code>.Rd</code>
files are created by examining the object’s structure, including its
class, dimensions, and element names. Field descriptions are inferred
from column names in data frames or element names in lists.</p>
<p>DPR2 leverages <code><a href="../reference/dpr_compare_data_digest.html">dpr_compare_data_digest()</a></code> to compare the
checksums of objects in the <code>data/</code> directory with their
recorded digests. This allows DPR2 to update <code>.R</code>
documentation files only when changes are detected in the underlying
data. <strong>By default, DPR2 will overwrite <code>.R</code> and
<code>.Rd</code> files if the corresponding data object has changed, as
determined by its checksum. If the object has not changed, DPR2 will
skip re-documentation.</strong></p>
<p>Below we walk through an example showcasing DPR2’s default
documentation behavior. We define and save two objects: an
<code>mtcars_df</code> data frame that has an added
<code>efficiency</code> column, and a <code>mtcars_list</code> list
containing the raw data, summary statistics, column classes, and a
correlation matrix. These are saved to the <code>data/</code> folder
using <code><a href="../reference/dpr_save.html">dpr_save()</a></code>.</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://fredhutch.github.io/DPR2/">DPR2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">'mtcars'</span><span class="op">)</span></span>
<span><span class="va">mtcars_df</span> <span class="op">&lt;-</span> <span class="va">mtcars</span></span>
<span><span class="va">mtcars_df</span><span class="op">$</span><span class="va">efficiency</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">$</span><span class="va">mpg</span> <span class="op">/</span> <span class="va">mtcars</span><span class="op">$</span><span class="va">hp</span></span>
<span></span>
<span><span class="va">mtcars_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  raw_data <span class="op">=</span> <span class="va">mtcars</span>,</span>
<span>  summary <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>,</span>
<span>  column_classes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">class</span><span class="op">)</span>,</span>
<span>  correlation_matrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="fu"><a href="../reference/dpr_save.html">dpr_save</a></span><span class="op">(</span><span class="st">'mtcars_df'</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/dpr_save.html">dpr_save</a></span><span class="op">(</span><span class="st">'mtcars_list'</span><span class="op">)</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">mtcars_df</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    32 obs. of  12 variables:</span></span>
<span><span class="co">#&gt;  $ mpg       : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...</span></span>
<span><span class="co">#&gt;  $ cyl       : num  6 6 4 6 8 6 8 4 4 6 ...</span></span>
<span><span class="co">#&gt;  $ disp      : num  160 160 108 258 360 ...</span></span>
<span><span class="co">#&gt;  $ hp        : num  110 110 93 110 175 105 245 62 95 123 ...</span></span>
<span><span class="co">#&gt;  $ drat      : num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...</span></span>
<span><span class="co">#&gt;  $ wt        : num  2.62 2.88 2.32 3.21 3.44 ...</span></span>
<span><span class="co">#&gt;  $ qsec      : num  16.5 17 18.6 19.4 17 ...</span></span>
<span><span class="co">#&gt;  $ vs        : num  0 0 1 1 0 1 0 1 1 1 ...</span></span>
<span><span class="co">#&gt;  $ am        : num  1 1 1 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;  $ gear      : num  4 4 4 3 3 3 3 4 4 4 ...</span></span>
<span><span class="co">#&gt;  $ carb      : num  4 4 1 1 2 1 4 2 2 4 ...</span></span>
<span><span class="co">#&gt;  $ efficiency: num  0.191 0.191 0.245 0.195 0.107 ...</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">mtcars_list</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 4</span></span>
<span><span class="co">#&gt;  $ raw_data          :'data.frame':  32 obs. of  11 variables:</span></span>
<span><span class="co">#&gt;   ..$ mpg : num [1:32] 21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...</span></span>
<span><span class="co">#&gt;   ..$ cyl : num [1:32] 6 6 4 6 8 6 8 4 4 6 ...</span></span>
<span><span class="co">#&gt;   ..$ disp: num [1:32] 160 160 108 258 360 ...</span></span>
<span><span class="co">#&gt;   ..$ hp  : num [1:32] 110 110 93 110 175 105 245 62 95 123 ...</span></span>
<span><span class="co">#&gt;   ..$ drat: num [1:32] 3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...</span></span>
<span><span class="co">#&gt;   ..$ wt  : num [1:32] 2.62 2.88 2.32 3.21 3.44 ...</span></span>
<span><span class="co">#&gt;   ..$ qsec: num [1:32] 16.5 17 18.6 19.4 17 ...</span></span>
<span><span class="co">#&gt;   ..$ vs  : num [1:32] 0 0 1 1 0 1 0 1 1 1 ...</span></span>
<span><span class="co">#&gt;   ..$ am  : num [1:32] 1 1 1 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;   ..$ gear: num [1:32] 4 4 4 3 3 3 3 4 4 4 ...</span></span>
<span><span class="co">#&gt;   ..$ carb: num [1:32] 4 4 1 1 2 1 4 2 2 4 ...</span></span>
<span><span class="co">#&gt;  $ summary           : 'table' chr [1:6, 1:11] "Min.   :10.40  " "1st Qu.:15.43  " "Median :19.20  " "Mean   :20.09  " ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:6] "" "" "" "" ...</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:11] "     mpg" "     cyl" "     disp" "      hp" ...</span></span>
<span><span class="co">#&gt;  $ column_classes    : Named chr [1:11] "numeric" "numeric" "numeric" "numeric" ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "names")= chr [1:11] "mpg" "cyl" "disp" "hp" ...</span></span>
<span><span class="co">#&gt;  $ correlation_matrix: num [1:11, 1:11] 1 -0.852 -0.848 -0.776 0.681 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:11] "mpg" "cyl" "disp" "hp" ...</span></span>
<span><span class="co">#&gt;   .. ..$ : chr [1:11] "mpg" "cyl" "disp" "hp" ...</span></span></code></pre></div>
<p>After calling <code><a href="../reference/dpr_render.html">dpr_render()</a></code>, DPR2 generates
<code>.R</code> files under <code>R/</code> and <code>.Rd</code> files
under <code>man/</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">TestPKG</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="ex">├──</span> data</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="ex">│  </span> ├── mtcars_df.rda</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="ex">│  </span> └── mtcars_list.rda</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="ex">├──</span> man</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="ex">│  </span> ├── mtcars_df.Rd</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="ex">│  </span> └── mtcars_list.Rd</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="ex">├──</span> processing</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="ex">│  </span> └── mtcars.R</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="ex">└──</span> R</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>    <span class="ex">├──</span> mtcars_df.R</span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a>    <span class="ex">└──</span> mtcars_list.R</span></code></pre></div>
<p>Below is the content for <code>mtcars_df.R</code> and
<code>mtcars_list.R</code> files.</p>
<pre><code><span><span class="co"># This is data documentation created by DPR2. Do not delete this line.</span></span>
<span></span>
<span><span class="co">#' mtcars_df</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' A detailed description of the data</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @format A data.frame with 32 rows and 12 columns with the following fields:</span></span>
<span><span class="co">#' \describe{</span></span>
<span><span class="co">#'   \item{mpg}{numeric}{}</span></span>
<span><span class="co">#'   \item{cyl}{numeric}{}</span></span>
<span><span class="co">#'   \item{disp}{numeric}{}</span></span>
<span><span class="co">#'   \item{hp}{numeric}{}</span></span>
<span><span class="co">#'   \item{drat}{numeric}{}</span></span>
<span><span class="co">#'   \item{wt}{numeric}{}</span></span>
<span><span class="co">#'   \item{qsec}{numeric}{}</span></span>
<span><span class="co">#'   \item{vs}{numeric}{}</span></span>
<span><span class="co">#'   \item{am}{numeric}{}</span></span>
<span><span class="co">#'   \item{gear}{numeric}{}</span></span>
<span><span class="co">#'   \item{carb}{numeric}{}</span></span>
<span><span class="co">#'   \item{efficiency}{numeric}{}</span></span>
<span><span class="co">#' }</span></span>
<span><span class="co">#' @source Generated from script _________________</span></span>
<span><span class="co">#' @seealso</span></span>
<span><span class="co">#' \link{}</span></span>
<span><span class="st">"mtcars_df"</span></span></code></pre>
<pre><code><span><span class="co"># This is data documentation created by DPR2. Do not delete this line.</span></span>
<span></span>
<span><span class="co">#' mtcars_list</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' A detailed description of the data</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @format A list with 4 elements:</span></span>
<span><span class="co">#' \describe{</span></span>
<span><span class="co">#'   \item{raw_data}{data.frame}{}</span></span>
<span><span class="co">#'   \item{summary}{table}{}</span></span>
<span><span class="co">#'   \item{column_classes}{character}{}</span></span>
<span><span class="co">#'   \item{correlation_matrix}{matrix}{}</span></span>
<span><span class="co">#' }</span></span>
<span><span class="co">#' @source Generated from script _________________</span></span>
<span><span class="co">#' @seealso</span></span>
<span><span class="co">#' \link{}</span></span>
<span><span class="st">"mtcars_list"</span></span></code></pre>
<p>Users can now access documentation with <code>?mtcars_df</code> or
<code>?mtcars_list</code>, just like any standard R data package.</p>
</div>
<div class="section level2">
<h2 id="advanced-documentation-with-dpr2">Advanced documentation with DPR2<a class="anchor" aria-label="anchor" href="#advanced-documentation-with-dpr2"></a>
</h2>
<p>Users are able to modify the <code>.R</code> file templates generated
by DPR2 and provide further details on their data objects such as
context, descriptions, and references. In the example below, we update
the <code>@source</code> tag to link the object back to its processing
script.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars_block</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"R"</span>, <span class="st">"mtcars_df.R"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mtcars_block</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"@source"</span>, <span class="va">mtcars_block</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"#' @source Generated from script mtcars.R"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="va">mtcars_block</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">path</span>, <span class="st">"R"</span>, <span class="st">"mtcars_df.R"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">roxygen2</span><span class="fu">::</span><span class="fu"><a href="https://roxygen2.r-lib.org/reference/roxygenize.html" class="external-link">roxygenize</a></span><span class="op">(</span><span class="va">path</span><span class="op">)</span></span></code></pre></div>
<p>We now display the updated <code>.Rd</code> help file for
<code>mtcars_df</code>:</p>
<pre><code>% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mtcars_df.R
\docType{data}
\name{mtcars_df}
\alias{mtcars_df}
\title{mtcars_df}
\format{
A data.frame with 32 rows and 12 columns with the following fields:
\describe{
  \item{mpg}{numeric}{}
  \item{cyl}{numeric}{}
  \item{disp}{numeric}{}
  \item{hp}{numeric}{}
  \item{drat}{numeric}{}
  \item{wt}{numeric}{}
  \item{qsec}{numeric}{}
  \item{vs}{numeric}{}
  \item{am}{numeric}{}
  \item{gear}{numeric}{}
  \item{carb}{numeric}{}
  \item{efficiency}{numeric}{}
}
}
\source{
Generated from script mtcars.R
}
\usage{
mtcars_df
}
\description{
A detailed description of the data
}
\seealso{
\link{}
}
\keyword{datasets}</code></pre>
<p>Since existing documentation files are overwritten when a checksum
change is detected, users are encouraged to separately save any custom
edits so they can be copied into the updated version if needed.</p>
<div class="section level3">
<h3 id="controlling-what-gets-documented">Controlling what gets documented<a class="anchor" aria-label="anchor" href="#controlling-what-gets-documented"></a>
</h3>
<p>As noted earlier, DPR2 uses <code><a href="../reference/dpr_compare_data_digest.html">dpr_compare_data_digest()</a></code> to
track changes to objects in the <code>data/</code> directory and
determine how documentation should be handled:</p>
<ul>
<li>If an existing <code>.rda</code> file has changed, the corresponding
<code>.R</code> and <code>.Rd</code> files are automatically
overwritten.</li>
<li>If the <code>.rda</code> file is unchanged, DPR2 preserves existing
documentation and does not overwrite <code>.R</code> or <code>.Rd</code>
files.</li>
<li>If an object is no longer present in the <code>data/</code>
directory, DPR2 deletes the corresponding <code>.R</code> and
<code>.Rd</code> files during rendering.</li>
</ul>
<p>This behavior keeps the documentation in sync with the underlying
data while avoiding unnecessary overwrites when no changes are
detected.</p>
<p>If no new objects have been added and no existing objects have
changed, DPR2 outputs a message indicating that no data documentation
was generated. This lets users confirm that documentation is up to date
without triggering unnecessary updates.</p>
<p>For example, after re-running <code><a href="../reference/dpr_render.html">dpr_render()</a></code> with no
changes to the saved objects, users will see the following:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/dpr_render.html">dpr_render</a></span><span class="op">(</span><span class="va">path</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## No new data object documentation created, as no objects have been modified and all objects are documented in `.R`.</span></span></code></pre>
<p>In contrast, in the example below, <code>mtcars_df</code> was removed
from the processing script. DPR2 detects that the object is no longer
present and deletes both <code>R/mtcars_df.R</code> and
<code>man/mtcars_df.Rd</code> the next time <code><a href="../reference/dpr_render.html">dpr_render()</a></code> is
called.</p>
<pre><code><span><span class="co">## No new data object documentation created, as no objects have been modified and all objects are documented in `.R`.</span></span></code></pre>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://fredhutch.github.io/DPR2/">DPR2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">'mtcars'</span><span class="op">)</span></span>
<span><span class="va">mtcars_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  raw_data <span class="op">=</span> <span class="va">mtcars</span>,</span>
<span>  summary <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>,</span>
<span>  column_classes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">class</span><span class="op">)</span>,</span>
<span>  correlation_matrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/dpr_save.html">dpr_save</a></span><span class="op">(</span><span class="st">'mtcars_list'</span><span class="op">)</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">TestPKG</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="ex">├──</span> R</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="ex">│</span>   └── mtcars_list.R</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="ex">├──</span> data</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="ex">│</span>   └── mtcars_list.rda</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="ex">├──</span> man</span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="ex">│</span>   └── mtcars_list.Rd</span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="ex">└──</span> processing</span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>    <span class="ex">└──</span> mtcars.R</span></code></pre></div>
<p>Finally, it’s important to note that DPR2 will
<strong><em>not</em></strong> write data documentation for
<code>.rda</code> files that have more than one object saved, or if the
object in the <code>.rda</code> file does not match the
<code>.rda</code> file name. This is due to the unclear mapping between
the filename and object name. Warning messages will be outputted to
alert the user of this. To enforce best practices, use
<code><a href="../reference/dpr_save.html">dpr_save()</a></code>, not <code><a href="https://rdrr.io/r/base/save.html" class="external-link">save()</a></code>, to write RDA
files.</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://fredhutch.github.io/DPR2/">DPR2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">'mtcars'</span><span class="op">)</span></span>
<span><span class="va">mtcars_df</span> <span class="op">&lt;-</span> <span class="va">mtcars</span></span>
<span><span class="va">mtcars_df</span><span class="op">$</span><span class="va">efficiency</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">$</span><span class="va">mpg</span> <span class="op">/</span> <span class="va">mtcars</span><span class="op">$</span><span class="va">hp</span></span>
<span></span>
<span><span class="co"># next line is not a best practice! Use dpr_save() instead.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html" class="external-link">save</a></span><span class="op">(</span><span class="st">'mtcars_df'</span>, file<span class="op">=</span><span class="fu"><a href="../reference/dpr_path.html">dpr_path</a></span><span class="op">(</span><span class="st">'data'</span>, <span class="st">'my_df.rda'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/dpr_save.html">dpr_save</a></span><span class="op">(</span><span class="st">'mtcars'</span><span class="op">)</span></span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/dpr_render.html">dpr_render</a></span><span class="op">(</span><span class="va">path</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in generate_all_docs(path = path): 'my_df.rda' does not match data</span></span>
<span><span class="co">## object name 'mtcars_df'. Will skip writing documentation for it.</span></span></code></pre>
<pre><code><span><span class="co">## No new data object documentation created, as no objects have been modified and all objects are documented in `.R`.</span></span></code></pre>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jason Taylor.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
